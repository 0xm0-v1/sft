/* ============================================
   COMPONENT - UNITS GRID 
   ============================================ */
.units-icon-grid {
  scrollbar-gutter: stable both-edges;
  background-color: var(--md-sys-color-surface-container);
  --units-grid-padding: var(--space-sm);
  padding: var(--units-grid-padding);
  width: 100%;                           
  overflow-y: scroll; 
  overflow-x: hidden; 
  display: flex;                         
  justify-content: center;               
  min-height: calc((4 * var(--unit-icon-size-px)) + (3 * var(--gap-px)) + (2 * var(--units-grid-padding)));
 
  /* Scroll smooth */
  scrollbar-width: thin;
  scrollbar-color: var(--md-sys-color-outline) transparent;
}

.units-icon-scroll {
  display: grid;
  grid-template-columns: repeat(
    auto-fit,
    minmax(var(--unit-icon-size-px), var(--unit-icon-size-px))
  );
  grid-auto-rows: var(--unit-icon-size-px);
  gap: var(--gap-px);
  align-content: start;
  justify-content: start;
  width: fit-content;  
  max-width: 100%;
  justify-items: stretch;
}

.units-icon {
  width: 100%;
  height: 100%;
  aspect-ratio: 1 / 1;
  cursor: pointer;
  flex-shrink: 0;
  object-fit: cover;
  object-position: right;
  background-color: var(--md-sys-color-surface-variant);
  border-radius: var(--unit-icon-radius, 2px);
  transform: scale(1);
  transform-origin: center;
  transition:
    transform var(--md3-duration-short2) var(--md3-emphasized-decelerate),
    filter var(--md3-duration-short2) var(--md3-emphasized-decelerate);
  filter: var(--unit-shadow-rest);
}

.units-icon-container {
  position: relative;
  --unit-icon-radius: 2px;
  width: 100%;         
  height: 100%;        
  aspect-ratio: 1 / 1;
  overflow: visible;
  z-index: var(--z-base);
}

.unit-unlock-badge {
  position: absolute;
  top: var(--unlock-position);
  right: var(--unlock-position);
  width: var(--space-md);
  height: var(--space-md);
  background: url("../../assets/Icon/unlock.png") center/contain no-repeat;
  clip-path: circle(50% at 50% 50%);
  filter: drop-shadow(0 0 4px rgba(0,0,0,0.35));
  pointer-events: none;
  z-index: 1;
}



.units-icon-container:hover {
  z-index: var(--z-hover-elevated);
}

.units-icon-container:hover .units-icon {
  transform: scale(1.06);
  filter: var(--unit-shadow-hover);
}

.units-icon-container::after {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--unit-hover-overlay-inactive);
  border-radius: var(--unit-icon-radius, 2px);
  pointer-events: none;
  transition:
    background var(--md3-duration-short2) var(--md3-emphasized-decelerate);
}

.units-icon-container:hover::after {
  background: var(--unit-hover-overlay);
}

/* Border by Cost */
.border-1-cost {
  border: var(--units-border-width) solid var(--cost-border-1);
}

.border-2-cost {
  border: var(--units-border-width) solid var(--cost-border-2);
}

.border-3-cost {
  border: var(--units-border-width) solid var(--cost-border-3);
}

.border-4-cost {
  border: var(--units-border-width) solid var(--cost-border-4);
}

.border-5-cost {
  border: var(--units-border-width) solid var(--cost-border-5);
}

.border-7-cost {
  border: var(--units-border-width) solid transparent;
  border-radius: var(--unit-icon-radius, 2px);
  background:
    linear-gradient(
      var(--md-sys-color-surface-container),
      var(--md-sys-color-surface-container)
    ) padding-box,
    linear-gradient(
      90deg,
      var(--cost-border-7-start) 0%,
      var(--cost-border-7-mid) 50%,
      var(--cost-border-7-end) 100%
    ) border-box;
  background-clip: padding-box, border-box;
}

/* ============================================
   RESPONSIVE - UNITS GRID
   ============================================ */

/* Tablet responsive */
@media (min-width: 768px) {
  .units-icon-grid {
    --units-grid-padding: var(--space-lg);
    padding: var(--units-grid-padding);
    width: 100%;
    max-width: 100%;
  }

  .units-icon-scroll {
    grid-template-columns: repeat(
      auto-fill,
      var(--unit-icon-size-px)  
    );
  }
}

/* Desktop layout */
@media (min-width: 1024px) {
  .units-icon-grid {
    --units-grid-columns: 6;              
    --units-grid-padding: var(--space-sm);
    --units-grid-max-inline: calc(        /* cards + gaps + padding */
      (var(--units-grid-columns) * var(--unit-icon-size-px)) +
      ((var(--units-grid-columns) - 1) * var(--gap-px)) +
      (2 * var(--units-grid-padding))
    );
    padding: var(--units-grid-padding);
    width: auto;
    inline-size: fit-content;             
    max-inline-size: min(var(--units-grid-max-inline), 100%);
    max-width: 100%;
    flex: 0 0 auto;
    align-self: stretch;
    min-height: 100%;
    display: block;                     
  }

  .units-icon-scroll {
    grid-template-columns: repeat(
      var(--units-grid-columns),
      var(--unit-icon-size-px)            
    );
    width: fit-content;                  
    justify-items: stretch;              
  }
}
